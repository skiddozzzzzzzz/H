<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Discord Webhook Tool v2</title>
<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background-color: #1e1e2f;
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding-top: 50px;
}
.container {
    background-color: #2c2c3f;
    padding: 20px;
    border-radius: 12px;
    width: 500px;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
    animation: fadeIn 0.8s ease-out;
}
h2 {text-align:center; margin-bottom:20px;}
input, textarea, button {
    width: 100%;
    margin-top: 10px;
    padding: 10px;
    border-radius: 6px;
    border: none;
    outline: none;
    font-size: 14px;
}
input { background-color: #3c3c55; color: #fff; }
textarea { background-color: #3c3c55; color: #fff; resize: vertical; }
button {
    background-color: #5a5aff; color: #fff; font-weight: bold;
    cursor: pointer; transition: 0.2s;
}
button:hover { background-color: #7a7aff; }
.webhook-details {
    margin-top: 15px; padding: 10px;
    background-color: #3c3c55; border-radius: 8px;
    max-height: 150px; overflow-y: auto;
}
.avatar-preview {
    width: 80px; height: 80px; border-radius: 50%;
    margin: 10px auto; display: block; background-color: #444;
}
.detail-line { display:flex; justify-content:space-between; margin-bottom:5px; }
.copy-btn { background:#7a7aff; border:none; color:#fff; border-radius:4px; cursor:pointer; padding:2px 5px; font-size:12px; }
@keyframes fadeIn { from {opacity:0; transform:translateY(-20px);} to {opacity:1; transform:translateY(0);} }
</style>
</head>
<body>

<div class="container">
    <h2>Discord Webhook Tool</h2>
    <input type="text" id="webhookUrl" placeholder="Enter Webhook URL">
    <button id="fetchWebhookBtn">Fetch Webhook</button>

    <img id="avatarPreview" class="avatar-preview" src="" alt="Avatar Preview">
    <div id="webhookDetails" class="webhook-details"></div>

    <textarea id="customMessage" placeholder="Custom message"></textarea>
    <input type="text" id="customUsername" placeholder="Custom username (optional)">
    <input type="text" id="customAvatar" placeholder="Custom avatar URL (optional)">
    <button id="spamWebhookBtn">Start Spamming</button>
    <button id="stopSpamBtn">Stop Spamming</button>
</div>

<script>
let spamInterval;

const fetchBtn = document.getElementById("fetchWebhookBtn");
const spamBtn = document.getElementById("spamWebhookBtn");
const stopSpamBtn = document.getElementById("stopSpamBtn");
const webhookDetailsDiv = document.getElementById("webhookDetails");
const avatarPreview = document.getElementById("avatarPreview");

fetchBtn.addEventListener("click", async () => {
    const url = document.getElementById("webhookUrl").value;
    if(!url) return alert("Enter a webhook URL");

    try {
        const res = await fetch(url);
        if(!res.ok) throw new Error("Failed to fetch webhook");
        const data = await res.json();

        webhookDetailsDiv.innerHTML = "";
        for(const key in data){
            const line = document.createElement("div");
            line.className = "detail-line";
            line.innerHTML = `<span>${key}: ${data[key]}</span>`;
            const copyBtn = document.createElement("button");
            copyBtn.textContent = "Copy";
            copyBtn.className = "copy-btn";
            copyBtn.onclick = () => navigator.clipboard.writeText(data[key]);
            line.appendChild(copyBtn);
            webhookDetailsDiv.appendChild(line);
        }

        if(data.avatar){
            avatarPreview.src = `https://cdn.discordapp.com/avatars/${data.id}/${data.avatar}.png`;
        } else {
            avatarPreview.src = "";
        }
    } catch(e){
        alert("Failed to fetch webhook: " + e.message);
    }
});

spamBtn.addEventListener("click", () => {
    const url = document.getElementById("webhookUrl").value;
    const message = document.getElementById("customMessage").value;
    const username = document.getElementById("customUsername").value || undefined;
    const avatar = document.getElementById("customAvatar").value || undefined;

    if(!url || !message) return alert("Webhook URL and message required");

    if(spamInterval) clearInterval(spamInterval);
    spamInterval = setInterval(async () => {
        try{
            await fetch(url, {
                method: "POST",
                headers: {"Content-Type":"application/json"},
                body: JSON.stringify({
                    content: message,
                    username: username,
                    avatar_url: avatar
                })
            });
        }catch(e){ console.error("Spam failed:", e); }
    }, 10); // 0.01 sec = 10 ms
    alert("Spammer started! Sending every 0.01s");
});

stopSpamBtn.addEventListener("click", () => {
    clearInterval(spamInterval);
    alert("Spammer stopped!");
});
</script>

</body>
</html>
